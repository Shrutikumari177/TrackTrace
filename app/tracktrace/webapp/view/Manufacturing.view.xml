<mvc:View
    controllerName="tracktrace.controller.Manufacturing"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    xmlns:tnt="sap.tnt"
    xmlns:core="sap.ui.core"
    displayBlock="true"
>
    <ScrollContainer id="_IDGenScrollContainer1" vertical="true" height="100%">
        <tnt:ToolHeader  id="shellLikeToolHeaderOnlyMandatoryControls" class="sapUiTinyMargin">
          
            <Title id="_IDGenTitle" textAlign="Center" text="Production Page" wrapping="false">
                <layoutData>
                    <OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData1" priority="Disappear"/>
                </layoutData>
            </Title>
            <ToolbarSpacer id="_IDGenToolbarSpacer" />
            <Avatar 
                id="_IDGenAvatar" 
                src="test-resources/sap/tnt/images/Woman_avatar_01.png" 
                displaySize="XS" 
                press=".onAvatarPressed" 
                tooltip="Profile">
                <layoutData>
                    <OverflowToolbarLayoutData id="_IDGenOverflowToolbarLayoutData2" priority="NeverOverflow"/>
                </layoutData>
            </Avatar>
        </tnt:ToolHeader>
            <l:VerticalLayout id="_IDGenVerticalLayout1" width="100%">
                <l:BlockLayout id="_IDGenBlockLayout1" background="Dashboard">
                    <l:BlockLayoutRow id="_IDGenBlockLayoutRow1">
                        <l:BlockLayoutCell id="_IDGenBlockLayoutCell1" width="90%">
                            <HBox id="headerPage">
                                <Label id="_IDGenLabel1" class="sapUiTinyMarginTop" design="Bold" text="Product Order"/>
                                <Input id="productReqNo" class="sapUiTinyMarginBegin" width="200px" showValueHelp="true" valueHelpRequest="onServiceRequestNumber" />
                                <Button id="generateQrBtn1" class="sapUiTinyMarginBegin" type="Emphasized" text="GO" press="onGoPress"/>
                                <Button id="generateQrBtn" class="sapUiTinyMarginBegin" type="Emphasized" text="Generate QR" press="onGenerateQRPress"/>
                           </HBox>
                        </l:BlockLayoutCell>
                    </l:BlockLayoutRow>


                    <l:BlockLayoutRow id="_IDGenBlockLayoutRow2" visible="false">
                        <l:BlockLayoutCell id="_IDGenBlockLayoutCell2" width="90%">
                <Dialog id="qrCodeDialog1" titleAlignment="Center" title="QR Code" horizontalScrolling="false" verticalScrolling="false">
                <customHeader>
                    <Bar>
                         <contentMiddle>
                             <Title text="QR Code" />
                         </contentMiddle>
                         <contentRight>
                             <Button icon="sap-icon://decline" tooltip="Close" press="onCloseDialog" />
                         </contentRight>
                  </Bar>
                </customHeader>
                    <content>
                        <Image id="qrCodeDialogImage1" class="qrImage" width="200px" height="200px" />
                    </content>
                    <endButton>
                        <Button text="Print" press="onPrintQR" />
                    </endButton>
                </Dialog>
                <Table id="createTypeTable"
                     width="auto"
                     contextualWidth="Auto"
                     class="borderedTable"
                     mode="SingleSelectLeft"
                     sticky="ColumnHeaders"
                     noDataText="Loading ..."
                     items="{materialDataModel>/materials}"
                     >
             <columns>
                  <Column id="_IDGenColu1" width="70px" hAlign="Center">
                      <Label id="_IDGenLabel2" text="Product Code"/>
                  </Column>
                  <Column id="_IDGenColun2" width="70px" hAlign="Center">
                      <Label id="_IDGenLabel3" text="Batch ID"/>
                  </Column>
                  <Column id="_IDGenColun3" width="70px" hAlign="Center">
                      <Label id="_IDGenLabel5" text="Manufacturing Date"/>
                  </Column>
                  <Column id="_IDGenColum" width="70px" hAlign="Center">
                      <Label id="_IDGenLabel4" text="Expiry Date"/>
                  </Column>
                  <Column id="_IDGenColum3" width="70px" hAlign="Center">
                      <Label id="_IDGenLabe6" text="Prodcution ID" textAlign="Center"/>
                  </Column>
                    <Column id="_IDGenColum2" width="70px" hAlign="Center">
                      <Label id="_IDGenLabe5" text="QR Code" textAlign="Center"/>
                  </Column>
              </columns>
    <ColumnListItem id="_istItem1" class="borderedRow" press="onMaterialRowSelect">
        <cells>
            <Text id="_IDGenText19" class="inputItem" text="{materialDataModel>productCode}" />
            <Text id="_IDGenText20" class="inputItem"  text="{materialDataModel>batchId}" />
            <Text id="_IDGenText21" class="inputItem"  text="{materialDataModel>manufacturingDate}" />
            <Text id="_IDGenText22" class="inputItem"  text="{materialDataModel>expiryDate}" />
            <!-- <Link id="_IDGenText23" class="inputItem"  text="{materialDataModel>qrCode}" /> -->
            <!-- <Link text="View QR Code" 
                      href="{materialDataModel>qrCode}" 
                      target="_blank" 
                      visible="{= ${materialDataModel>qrCode} ? true : false }" /> -->
                    
            <Text id="_IDGenText24" class="inputItem"  text="{materialDataModel>productionId}" />
              <Link text="View QR Code" 
                      visible="{= ${materialDataModel>qrCode} ? true : false }"
                      press=".onViewQRCodePress" 
                      >
                    <customData>
                        <core:CustomData key="qrCode" value="{materialDataModel>qrCode}" />
                    </customData>
                </Link>
            
        </cells>
    </ColumnListItem>
</Table>
                        </l:BlockLayoutCell>
                    </l:BlockLayoutRow>
                </l:BlockLayout>
            </l:VerticalLayout>
    </ScrollContainer>
</mvc:View>
